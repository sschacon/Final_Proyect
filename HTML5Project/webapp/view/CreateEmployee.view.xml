<mvc:View xmlns:core="sap.ui.core" 
          xmlns:mvc="sap.ui.core.mvc" 
          xmlns="sap.m" 
          controllerName="logaligroup.HTML5Project.controller.CreateEmployee" 
          xmlns:html="http://www.w3.org/1999/xhtml"
          xmlns:form="sap.ui.layout.form" 
          xmlns:u="sap.ui.unified">
	<Page title="{i18n>crearEmpleado}">
		<content>
         <NavContainer id="wizardNavContainer">
            <pages>
                <Page	showHeader="false">
                    <content>
                    <Wizard id="CreateEmployeeWizard" 
                            class="sapUiResponsivePadding--header sapUiResponsivePadding--content"
                            complete="wizardCompletedHandler">
                        <WizardStep id="WizardPass1"
                                    title="{i18n>pass1}"
                                    validated="true">
                            <MessageStrip class="sapUiSmallMarginBottom"
                                        text="{i18n>textpass1}"
                                        showIcon="true"/>
                                <HBox
                                        alignItems="Center"
                                        justifyContent="Center"
                                        width="100%">
                                    <SegmentedButton
                                        width="320px"
                                        selectionChange="setProductTypeFromSegmented">
                                        <items>
                                            <SegmentedButtonItem text="{i18n>pass1Button1}" press="toNavPass2" >
                                                <customData>
                                                    <core:CustomData key="buttonTypeEmployee" value="interno"></core:CustomData>
                                                </customData>
                                            </SegmentedButtonItem>
                                            <SegmentedButtonItem text="{i18n>pass1Button2}" press="toNavPass2" >
                                                <customData>
                                                    <core:CustomData key="buttonTypeEmployee" value="autonomo"></core:CustomData>
                                                </customData>
                                            </SegmentedButtonItem>                                    
                                            <SegmentedButtonItem text="{i18n>pass1Button3}" press="toNavPass2">
                                                <customData>
                                                    <core:CustomData key="buttonTypeEmployee" value="gerente"></core:CustomData>
                                                </customData>
                                            </SegmentedButtonItem>                                       
                                        </items>
                                    </SegmentedButton>
                                </HBox>                                  
                        </WizardStep>
                        <WizardStep id="WizardPass2"
                                    title="{i18n>pass2}"
                                    validated="true">
                            <MessageStrip class="sapUiSmallMarginBottom"
                                        text="{i18n>textpass2}"
                                        showIcon="true"/>     
                                <form:SimpleForm
                                        editable="true">
                                    <Label text="{i18n>name}" required="true"/>
                                    <Input valueState="{/_FirstNameState}" change="checkDataEmployee" value="{/FirstName}"/>
                                    <Label text="{i18n>firstNames}" required="true"/>
                                    <Input valueState="{/_LastNameState}" change="checkDataEmployee" value="{/LastName}"/>
                                    <Label text="{= ${/_type} === 'autonomo' ? ${i18n>CIF} : ${i18n>DNI}}" required="true"/>
                                    <Input value="{/Dni}" valueState="{/_DniState}" change="checkDNI"></Input>
                                    <Label text="{= ${/_type} === 'autonomo' ? ${i18n>precioDiario} : ${i18n>salarioBrutoAnual}}"/>
                                    <VBox>
                                        <Slider value="{/_Salary}"
                                            min="12000" 
                                            max="80000"
                                            step="1000" inputsAsTooltips="true" showAdvancedTooltip="true" enableTickmarks="true"
                                                width="100%" progress="false" class="sapUiSmallMarginBottom" 
                                                visible="{=  ${/_type} === 'interno'}">
                                            <ResponsiveScale tickmarksBetweenLabels="100"/>
                                        </Slider>
                                        <Slider value="{/_Salary}"
                                            min="100" 
                                            max="2000"
                                            step="100" inputsAsTooltips="true" showAdvancedTooltip="true" enableTickmarks="true"
                                                width="100%" progress="false" class="sapUiSmallMarginBottom"
                                                visible="{=  ${/_type} === 'autonomo'}">
                                            <ResponsiveScale tickmarksBetweenLabels="100"/>
                                        </Slider>
                                        <Slider value="{/_Salary}"
                                            min="50000" 
                                            max="200000"
                                            step="1000" inputsAsTooltips="true" showAdvancedTooltip="true" enableTickmarks="true"
                                                width="100%" progress="false" class="sapUiSmallMarginBottom"
                                                visible="{=  ${/_type} === 'gerente'}">
                                            <ResponsiveScale tickmarksBetweenLabels="100"/>
                                        </Slider>
                                    </VBox>
                                    <Label text="{i18n>fechaIncorporacion}" required="true"></Label>
                                    <DatePicker dateValue="{/CreationDate}" valueState="{/_CreationDateState}" change="checkDataEmployee"></DatePicker>
                                </form:SimpleForm>  
                        </WizardStep>           
                        <WizardStep id="WizardPass3"
                                    title="{i18n>pass3}"
                                    validated="true">
                            <MessageStrip class="sapUiSmallMarginBottom"
                                        text="{i18n>textpass3}"
                                        showIcon="true"/>          
                                    <Label text="{i18n>comentario}" width="100%"></Label>
                                    <TextArea value="{/Comments}" width="100%"></TextArea>
                                    <UploadCollection
                                            id="UploadCollection"
                                            maximumFilenameLength="55"
                                            maximumFileSize="10"
                                            multiple="true"
                                            uploadUrl="/sap/opu/odata/sap/ZEMPLOYEES_SRV/Attachments"
                                            sameFilenameAllowed="true"
                                            instantUpload="false"
                                            change="onChange"
                                            beforeUploadStarts="onBeforeUploadStart"
                                            noDataDescription="{i18n>arrastrarFicheros}" />                                                    
                        </WizardStep>                          
                    </Wizard>
                </content>
                    <footer >
                            <OverflowToolbar>
                                <ToolbarSpacer/>
                                <Button text="{i18n>cancel}" press="onCancel"/>
                            </OverflowToolbar>
                    </footer>
                </Page>
                    <Page id="ReviewPage" title="{i18n>resumen}">
                        <core:Fragment fragmentName="logaligroup.HTML5Project.fragment.ReviewPage" type="XML"/>
                        <footer>
                            <Toolbar>
                                <ToolbarSpacer></ToolbarSpacer>
                                <Button text="{i18n>guardar}" press="onSaveEmployee"></Button>
                                <Button text="{i18n>cancelar}" press="onCancel"></Button>
                            </Toolbar>
                        </footer>
                    </Page>                
              </pages>
            </NavContainer>
         </content>
        </Page>
</mvc:View>